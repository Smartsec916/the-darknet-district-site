<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://www.googletagmanager.com https://www.gstatic.com https://apis.google.com; style-src 'self' 'unsafe-inline'; img-src 'self' https://*; connect-src 'self' https://the-darknet-district-site.onrender.com https://identitytoolkit.googleapis.com https://securetoken.googleapis.com https://accounts.google.com https://*.googleapis.com; frame-src https://*.replit.app https://www.robertsspaceindustries.com https://mosequipment.com https://www.cdprojektred.com https://thedarknetdistrict.com https://accounts.google.com https://*.firebaseapp.com https://the-darknet-district-71873.firebaseapp.com; frame-ancestors 'self' https://thedarknetdistrict.com;">

  <meta http-equiv="X-Content-Type-Options" content="nosniff">

  <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
  <meta http-equiv="Permissions-Policy" content="geolocation=(), camera=(), microphone=()">
  <meta name="description" content="The Darknet District - Enter the digital underground. Play games, explore, and more.">
  <meta name="keywords" content="cyberpunk, games, digital, underground, darknet">
  <meta name="author" content="The Darknet District">
  <meta name="robots" content="index, follow">

  <!-- Open Graph / Facebook Preview -->
  <meta property="og:title" content="The Darknet District" />
  <meta property="og:image" content="https://thedarknetdistrict.com/og-image.jpg" />
  <meta property="og:url" content="https://thedarknetdistrict.com/" />
  <meta property="og:type" content="website" />
  <meta property="og:description" content="Enter the digital underground. Play games, explore, and more." />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-HS0KYNY5H9"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-HS0KYNY5H9');
  </script>

  <title>The Darknet District</title>
  <!-- Performance optimizations - preload critical assets -->
  <link rel="preload" href="attached_assets/..." as="image">
  <link rel="preload" href="./style.css" as="style">
  <link rel="preload" href="./script.js" as="script">
  <link href="./style.css" rel="stylesheet" type="text/css" media="print" onload="this.media='all'">
  <!-- DNS optimizations for faster loading -->
  <link rel="dns-prefetch" href="https://thedarknetdistrict.com">
  <link rel="preconnect" href="https://thedarknetdistrict.com">

  <!-- Firebase Scripts -->
  <script type="module" src="https://www.gstatic.com/firebasejs/11.10.0/firebase-app.js"></script>
  <script type="module" src="https://www.gstatic.com/firebasejs/11.10.0/firebase-auth.js"></script>

  <style>
    .top-nav {
      position: fixed;
      top: 0;
      width: 100%;
      background-color: rgba(0, 0, 0, 0.8);
      display: flex;
      justify-content: center;
      gap: 20px;
      padding: 10px 0;
      z-index: 9999;
    }

    .top-nav a {
      font-family: 'Courier New', monospace;
      color: #00ffcc;
      text-decoration: none;
      padding: 8px 16px;
      border: 1px solid #00ffcc;
      border-radius: 4px;
      transition: background-color 0.3s, color 0.3s;
    }

    .top-nav a:hover {
      background-color: #00ffcc;
      color: black;
    }

    body {
      padding-top: 60px;
    }

    .chat-button {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: rgba(0, 0, 0, 0.8);
      color: #ff3366;
      border: 2px solid #ff3366;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      font-family: 'Courier New', monospace;
      z-index: 1000;
      transition: all 0.3s ease;
    }

    .chat-button:hover {
      background: #ff3366;
      color: black;
      box-shadow: 0 0 15px #ff3366;
    }

    .chat-container {
      display: none;
      position: fixed;
      bottom: 80px;
      right: 20px;
      width: 300px;
      height: 450px;
      background: rgba(15, 15, 20, 0.15);
      border: 2px solid rgba(255, 51, 102, 0.8);
      border-radius: 15px;
      z-index: 1000;
      overflow: hidden;
      backdrop-filter: blur(3px);
      font-family: 'Courier New', monospace;
      box-shadow: 0 0 20px rgba(255, 51, 102, 0.2);
      animation: screenFlicker 8s infinite;
    }

    .chat-container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: repeating-linear-gradient(
        0deg,
        rgba(0, 255, 157, 0.03) 0px,
        rgba(0, 255, 157, 0.03) 1px,
        transparent 2px,
        transparent 4px
      );
      pointer-events: none;
      animation: scanline 10s linear infinite;
    }

    @keyframes screenFlicker {
      0% { opacity: 1; }
      1% { opacity: 0.95; }
      2% { opacity: 0.9; }
      3% { opacity: 1; }
      98% { opacity: 1; }
      99% { opacity: 0.9; }
      100% { opacity: 1; }
    }

    @keyframes scanline {
      0% { transform: translateY(0); }
      100% { transform: translateY(450px); }
    }

    .chat-header {
      padding: 15px;
      background: linear-gradient(45deg, rgba(255, 51, 102, 0.6), rgba(255, 0, 68, 0.6));
      border-bottom: none;
      display: flex;
      align-items: center;
    }

    .profile-pic {
      width: 35px;
      height: 35px;
      border-radius: 50%;
      margin-right: 12px;
      border: 2px solid #fff;
      box-shadow: 0 0 10px rgba(255, 51, 102, 0.3);
    }

    .chat-title {
      color: #ffffff;
      margin: 0;
      font-size: 16px;
      font-weight: bold;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }

    .chat-messages {
      height: 300px;
      overflow-y: auto;
      padding: 15px;
      background: rgba(20, 20, 25, 0.4);
    }

    .message {
      margin-bottom: 12px;
      padding: 10px 15px;
      border-radius: 15px;
      max-width: 80%;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }

    .user-message {
      background: linear-gradient(135deg, #ff3366, #ff0044);
      color: #ffffff;
      margin-left: auto;
      border-bottom-right-radius: 5px;
    }

    .bot-message {
      background: rgba(255, 255, 255, 0.1);
      color: #fff;
      border-bottom-left-radius: 5px;
      border-left: 3px solid #ff3366;
    }

    .chat-input {
      display: flex;
      padding: 10px;
      border-top: 1px solid #00ff9d;
    }

    .chat-input input {
      flex: 1;
      background: rgba(0, 0, 0, 0.8);
      border: 1px solid #00ff9d;
      color: #00ff9d;
      padding: 8px;
      border-radius: 5px;
      margin-right: 5px;
      font-family: 'Courier New', monospace;
    }

    .chat-input button {
      background: #00ff9d;
      color: black;
      border: none;
      padding: 8px 15px;
      border-radius: 5px;
      cursor: pointer;
      font-family: 'Courier New', monospace;
    }

    .chat-input button:hover {
      background: #00cc7a;
    }

    .typing-indicator {
      opacity: 0.7;
    }

    .typing-dots {
      display: inline-block;
      animation: typingDots 1.4s infinite;
      font-size: 20px;
      color: #00ff9d;
    }

    @keyframes typingDots {
      0%, 60% {
        opacity: 0.3;
      }
      30% {
        opacity: 1;
      }
    }

    .product-card {
      border: 2px solid #00ff9d;
      background-color: #0d0d0d;
      border-radius: 12px;
      padding: 20px;
      width: 300px;
      height: 400px;
      margin: 0 auto;
      text-align: center;
      box-shadow: 0 0 12px #00ff9d44;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    .product-card img {
      width: 200px;
      height: 200px;
      object-fit: contain;
      margin: 10px auto;
    }
.featured-container {
</style>
</head>

<body>
  <!-- Top Navigation Buttons -->
  <div class="top-nav">
    <a href="games-list" style="font-family: 'Courier New', monospace;">Arcade</a>
    <a href="store-first-page" style="font-family: 'Courier New', monospace;">Shop</a>
    <a href="sleeping_pod.html" style="font-family: 'Courier New', monospace;">Reserve a Sleeping Pod</a>
    <a href="about" style="font-family: 'Courier New', monospace;">About</a>
  </div>

  <!-- Chat Interface - AI chatbot Iris -->
  <button class="chat-button" id="chatButton">Chat with Iris</button>
  <div class="chat-container" id="chatContainer" style="display: none;">
    <!-- Chat header with Iris profile -->
    <div class="chat-header">
      <img src="attached_assets/Iris 01.png" alt="Iris" class="profile-pic">
      <h3 class="chat-title">Chatting with Iris</h3>
    </div>
    <!-- Messages display area -->
    <div class="chat-messages" id="chatMessages"></div>
    <!-- User input area -->
    <div class="chat-input">
      <input type="text" id="messageInput" placeholder="Type your message...">
      <button id="sendButton">Send</button>
    </div>
  </div>


  <!-- Hero section with main title -->
  <section class="first-section">
    <div style="display: flex; flex-direction: column; align-items: center; width: 100%;">
      <h1 class="cyberpunk-title" data-text="The Darknet District">The Darknet District</h1>
      <button class="enter-district-btn game-button" onclick="enterTheDistrict()">Enter the District</button>
    </div>
  </section>





  <div class="bottom-header"></div>
  <script src="script.js"></script>
  <script src="devtoolsDetector.js"></script>

  <!-- Firebase Authentication -->
  <script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/11.10.0/firebase-app.js';
    import { getAuth, GoogleAuthProvider, signInWithPopup, onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/11.10.0/firebase-auth.js';

    const firebaseConfig = {
      apiKey: "AIzaSyACm01u0QvzvYx52u5fYCKmgj6jyq_1Lk8",
      authDomain: "the-darknet-district-71873.firebaseapp.com",
      projectId: "the-darknet-district-71873",
      storageBucket: "the-darknet-district-71873.firebasestorage.app",
      messagingSenderId: "166866456762",
      appId: "1:166866456762:web:6f716b9832e8be9fd27283",
      measurementId: "G-N60E0QB9DD"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const googleProvider = new GoogleAuthProvider();

    // Global function for the button - make it immediately available
    window.enterTheDistrict = async function() {
      console.log("enterTheDistrict function called");
      console.log("Auth object:", auth);
      console.log("Provider object:", googleProvider);

      try {
        console.log("Attempting to sign in with popup...");
        const result = await signInWithPopup(auth, googleProvider);
        const user = result.user;
        console.log("User signed in:", user.displayName);

        // Show welcome message with cyberpunk styling
        const welcomeMsg = document.createElement('div');
        welcomeMsg.style.cssText = `
          position: fixed;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          background: rgba(0, 255, 157, 0.1);
          border: 2px solid #00ff9d;
          color: #00ff9d;
          padding: 20px;
          border-radius: 10px;
          font-family: 'Courier New', monospace;
          z-index: 10000;
          text-align: center;
          backdrop-filter: blur(10px);
        `;
        welcomeMsg.innerHTML = `
          <h3>ACCESS GRANTED</h3>
          <p>Welcome to The Darknet District, ${user.displayName}!</p>
          <p>Neural link established...</p>
        `;
        document.body.appendChild(welcomeMsg);

        setTimeout(() => {
          document.body.removeChild(welcomeMsg);
        }, 3000);

      } catch (error) {
        console.error('Sign-in failed:', error);
        console.error('Error code:', error.code);
        console.error('Error message:', error.message);

        // Show error message with cyberpunk styling
        const errorMsg = document.createElement('div');
        errorMsg.style.cssText = `
          position: fixed;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          background: rgba(255, 0, 0, 0.1);
          border: 2px solid #ff0000;
          color: #ff0000;
          padding: 20px;
          border-radius: 10px;
          font-family: 'Courier New', monospace;
          z-index: 10000;
          text-align: center;
          backdrop-filter: blur(10px);
        `;
        errorMsg.innerHTML = `
          <h3>ACCESS DENIED</h3>
          <p>Neural link failed. Please try again.</p>
        `;
        document.body.appendChild(errorMsg);

        setTimeout(() => {
          document.body.removeChild(errorMsg);
        }, 3000);
      }
    };

    setTimeout(() => {
      // Monitor auth state
      onAuthStateChanged(auth, (user) => {
        if (user) {
          console.log('User is signed in:', user.displayName);
        } else {
          console.log('User is signed out');
        }
      });

    }, 1000); // Give Firebase imports time to load
  </script>

<div id="floating-elements"></div>

  <!-- Digital rain effect -->
  <div class="digital-rain"></div>

</body>
</html>